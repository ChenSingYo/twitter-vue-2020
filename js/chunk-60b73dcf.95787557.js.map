{"version":3,"sources":["webpack:///./src/components/Header.vue?77b4","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?4c35","webpack:///./src/components/Header.vue?8acd","webpack:///./src/components/Header.vue?fab7","webpack:///./src/components/UserSettingForm.vue?1cbb","webpack:///./src/views/UserAccountSetting.vue?5ae3","webpack:///./src/views/UserAccountSetting.vue?8fab","webpack:///./src/components/UserSettingForm.vue?b7f9","webpack:///src/components/UserSettingForm.vue","webpack:///./src/components/UserSettingForm.vue?92c2","webpack:///./src/components/UserSettingForm.vue?23d3","webpack:///src/views/UserAccountSetting.vue","webpack:///./src/views/UserAccountSetting.vue?5fa4","webpack:///./src/views/UserAccountSetting.vue?aec0"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleBack","_e","staticClass","class","enableBackBtn","_v","_s","title","staticRenderFns","name","props","type","String","default","Boolean","methods","$router","go","component","userData","isProcessing","handleAfterSubmit","$event","preventDefault","stopPropagation","handleSubmit","directives","rawName","value","expression","domProps","target","composing","$set","components","Header","initialUserData","Object","data","watch","checkPassword","password","icon","$emit","account","email","NavSidebar","UserSettingForm","id","created","fetchUserData","computed"],"mappings":"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","file":"js/chunk-60b73dcf.95787557.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header',[(_vm.enableBackBtn)?_c('unicon',{attrs:{\"name\":\"cst-back-icon\",\"fill\":\"black\",\"viewBox\":\"0 0 64 64\",\"width\":\"24px\",\"height\":\"24px\"},on:{\"click\":_vm.handleBack}}):_vm._e(),_c('span',{staticClass:\"title\",class:{ 'ml-0': _vm.enableBackBtn }},[_vm._v(_vm._s(_vm.title))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <header>\n      <unicon\n        v-if=\"enableBackBtn\"\n        name=\"cst-back-icon\"\n        fill=\"black\"\n        viewBox=\"0 0 64 64\"\n        width=\"24px\"\n        height=\"24px\"\n        @click=\"handleBack\"\n      ></unicon>\n      <span class=\"title\" :class=\"{ 'ml-0': enableBackBtn }\">{{ title }}</span>\n    </header>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Header',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    enableBackBtn: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    handleBack() {\n      this.$router.go(-1)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nheader {\n  display: flex;\n  align-items: center;\n  height: 55px;\n  border-bottom: 1px solid var(--light-gary-clr);\n\n  .unicon {\n    display: flex;\n    align-items: center;\n    margin: 0 40px 0 15px;\n    cursor: pointer;\n  }\n\n  .title {\n    margin-left: 24px;\n    color: var(--black-clr);\n    font-weight: bold;\n    font-size: 19px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=7141969e&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=7141969e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7141969e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=7141969e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSettingForm.vue?vue&type=style&index=0&id=055853c7&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAccountSetting.vue?vue&type=style&index=0&id=3b5eba00&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-container\"},[_c('NavSidebar'),_c('UserSettingForm',{attrs:{\"initialUserData\":_vm.userData,\"isProcessing\":_vm.isProcessing},on:{\"after-submit\":_vm.handleAfterSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting\"},[_c('Header',{attrs:{\"title\":\"帳戶設定\"}}),_c('div',{staticClass:\"setting-container\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"input-wrapper\"},[_c('label',{staticClass:\"text\"},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.account),expression:\"userData.account\"}],attrs:{\"type\":\"text\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.userData.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"input-wrapper\"},[_c('label',{staticClass:\"text\"},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.name),expression:\"userData.name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.userData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"input-wrapper\"},[_c('label',{staticClass:\"text\"},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.email),expression:\"userData.email\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.userData.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"input-wrapper\"},[_c('label',{staticClass:\"text\"},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.password),expression:\"userData.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.userData.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"input-wrapper\"},[_c('label',{staticClass:\"text\"},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.checkPassword),expression:\"userData.checkPassword\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.userData.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"checkPassword\", $event.target.value)}}})]),_c('div',{staticClass:\"btn-wrapper\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\"儲存 \")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"setting\">\n    <Header title=\"帳戶設定\" />\n    <div class=\"setting-container\">\n      <form @submit.prevent.stop=\"handleSubmit\">\n        <div class=\"input-wrapper\">\n          <label class=\"text\">帳號</label>\n          <input\n            type=\"text\"\n            v-model=\"userData.account\"\n            autofocus\n          />\n        </div>\n        <div class=\"input-wrapper\">\n          <label class=\"text\">名稱</label>\n          <input\n            type=\"text\"\n            v-model=\"userData.name\"\n          />\n        </div>\n        <div class=\"input-wrapper\">\n          <label class=\"text\">Email</label>\n          <input\n            type=\"text\"\n            v-model=\"userData.email\"\n          />\n        </div>\n        <div class=\"input-wrapper\">\n          <label class=\"text\">密碼</label>\n          <input\n            type=\"password\"\n            v-model=\"userData.password\"\n          />\n        </div>\n        <div class=\"input-wrapper\">\n          <label class=\"text\">密碼確認</label>\n          <input\n            type=\"password\"\n            v-model=\"userData.checkPassword\"\n          />\n        </div>\n        <div class=\"btn-wrapper\">\n          <button\n            class=\"btn\"\n            type=\"submit\"\n            :disabled=\"isProcessing\"\n          >儲存\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '../components/Header'\nimport { Toast } from '../utils/helpers'\n\nexport default {\n  name: 'UserSettingForm',\n  components: {\n    Header\n  },\n  props: {\n    initialUserData: {\n      type: Object,\n      default: () => ({\n        id: -1,\n        account: '',\n        name: '',\n        email: '',\n        password: '',\n        checkPassword: ''\n      })\n    },\n    isProcessing: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      userData: {\n        ...this.initialUserData\n      }\n    }\n  },\n  watch: {\n    initialUserData(newValue) {\n      this.userData = {\n        ...this.userData,\n        ...newValue\n      }\n    }\n  },\n  methods: {\n    handleSubmit () {\n      if (this.userData.checkPassword !== this.userData.password) {\n        Toast.fire({\n          icon: 'warning',\n          title: '請確認密碼欄位相同'\n        })\n        this.userData.checkPassword = ''\n        this.userData.password = ''\n        return\n      }\n\n      this.$emit('after-submit', {\n        account: this.userData.account,\n        name: this.userData.name,\n        email: this.userData.email,\n        password: this.userData.password,\n        checkPassword: this.userData.checkPassword\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.setting {\n  flex-grow: 1;\n}\n\n.setting-container {\n  padding: 2rem;\n  padding-top: 1rem;\n}\n\n.input-wrapper {\n  max-width: 60%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin: 30px 0;\n  border-radius: 4px;\n  background-color: var(--water-gary-clr);\n\n  label {\n    margin-bottom: 0;\n    padding: 5px 15px;\n    color: var(--cement-gary-clr);\n    font-weight: 500;\n    font-size: 0.937rem;\n  }\n\n  input {\n    padding: 0 15px;\n    height: 24px;\n    border: 0;\n    border-bottom: 3px solid var(--cement-gary-clr);\n    border-bottom-right-radius: 2px;\n    border-bottom-left-radius: 2px;\n    border-radius: 0px 0px 4px 4px;\n    background-color: transparent;\n    color: var(--black-clr);\n    font-weight: 500;\n    font-size: 19;\n    &:focus,\n    &:hover {\n      outline: 0;\n      border-color: var(--primary-clr);\n    }\n  }\n}\n\n.btn-wrapper {\n  margin-top: 30px;\n  text-align: left;\n\n  button {\n    padding: 0;\n    width: 122px;\n    height: 50px;\n    border-radius: 25px;\n    background-color: var(--primary-clr);\n    color: #fff;\n    line-height: 0;\n  }\n}\n\n.btn:focus {\n  box-shadow: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSettingForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSettingForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSettingForm.vue?vue&type=template&id=055853c7&scoped=true&\"\nimport script from \"./UserSettingForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSettingForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSettingForm.vue?vue&type=style&index=0&id=055853c7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"055853c7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"setting-container\">\n    <NavSidebar />\n    <UserSettingForm\n      :initialUserData=\"userData\"\n      @after-submit=\"handleAfterSubmit\"\n      :isProcessing=\"isProcessing\"\n    />\n  </div>\n</template>\n\n<script>\nimport NavSidebar from '../components/NavSidebar'\nimport UserSettingForm from '../components/UserSettingForm'\nimport usersAPI from '../apis/users'\nimport { Toast } from '../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'UserAccountSetting',\n  components: {\n    NavSidebar,\n    UserSettingForm\n  },\n  data() {\n    return {\n      userData: {\n        id: -1,\n        account: '',\n        name: '',\n        email: '',\n        password: '',\n        checkPassword: ''\n      },\n      isProcessing: false\n    }\n  },\n  created() {\n    this.fetchUserData()\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        this.userData = {\n          ...this.userData,\n          id: this.currentUser.id,\n          account: this.currentUser.account,\n          name: this.currentUser.name,\n          email: this.currentUser.email\n        }\n        console.log('userData', this.userData)\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: `無法取得使用者資訊：${err.message}`\n        })\n      }\n    },\n    async handleAfterSubmit({ account, name, email, password, checkPassword }) {\n      try {\n        this.isProcessing = true\n        const payLoad = {\n          account,\n          name,\n          email,\n          password,\n          checkPassword\n        }\n        const userId = this.userData.id\n\n        console.log(userId, payLoad)\n        this.isProcessing = true\n        const { data } = await usersAPI.editAccount(userId, { ...payLoad })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        this.$store.commit('setCurrentUser', {\n          userId,\n          account,\n          name,\n          email\n        })\n\n        Toast.fire({\n          icon: 'success',\n          title: `更新完成：${data.message}`\n        })\n        this.isProcessing = false\n      } catch (err) {\n        Toast.fire({\n          icon: 'error',\n          title: `無法更新用戶資訊: ${err.message}`\n        })\n      }\n      this.isProcessing = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.setting-container {\n  padding: 0rem 2rem;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAccountSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAccountSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAccountSetting.vue?vue&type=template&id=3b5eba00&scoped=true&\"\nimport script from \"./UserAccountSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAccountSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserAccountSetting.vue?vue&type=style&index=0&id=3b5eba00&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b5eba00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}